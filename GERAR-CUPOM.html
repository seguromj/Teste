
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gerador de Cupons Elegante</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* --- CSS Integrado: Design Moderno --- */
        :root {
            --primary-color: #5d50c6; /* Roxo suave */
            --secondary-color: #2ecc71; /* Verde elegante para copiar */
            --bg-light: #f9fbfe; /* Fundo muito claro */
            --card-bg: #ffffff;
            --text-dark: #333333;
            --text-light: #777777;
            --shadow-subtle: 0 8px 30px rgba(0, 0, 0, 0.08);
            --code-bg: #eef1f6;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-light);
            padding: 40px 20px;
            color: var(--text-dark);
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 40px;
            border-radius: 16px;
            box-shadow: var(--shadow-subtle);
        }

        h1 {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 5px;
            text-align: center;
            font-size: 21px;
        }
        
        h3 {
            font-weight: 600;
            color: var(--text-dark);
            margin-top: 30px;
            border-left: 4px solid var(--primary-color);
            padding-left: 10px;
            margin-bottom: 10px;
        }

        p {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 5px;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 25px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 5px rgba(93, 80, 198, 0.2);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.1s;
        }

        button:hover {
            background-color: #4b429e;
            transform: translateY(-2px);
        }

        hr {
            border: none;
            border-top: 1px solid #eeeeee;
            margin: 30px 0;
        }

        /* Estilo para as √°reas de resultado (Bloco de C√≥digo) */
        pre {
            background-color: var(--code-bg);
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 10px;
            border: 1px solid #dcdfe4;
        }
        
        .copy-group {
            display: flex;
            justify-content: flex-end; /* Move o bot√£o de copiar para a direita */
            margin-bottom: -15px;
        }

        .copy-btn {
            background-color: var(--secondary-color);
            color: white;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: 400;
        }

        .copy-btn:hover {
            background-color: #27ae60;
        }
        /* ---------------------- */
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® Gerador de Cupons‚ú®</h1>
        
         <p>Escreva a palavra que ser√° o **PREFIXO FIXO** para o site criar os CUPONS.</p>
         <p>**O sufixo aleat√≥rio ser√° gerado com 4 caracteres para garantir a exclusividade.**</p>
        
        <input type="text" id="prefixoInput" placeholder="Ex: FRETEGRATIS, NUANCE. (Este ser√° o Prefixo)">
        <button onclick="gerarCupons()">Gerar 31 Cupons</button>
        
        <hr>

        <h3><span style="color: var(--secondary-color);">‚ë†</span> CUPONS da Loja</h3>
        <p>üè∑Ô∏è Formato Objeto JSON Completo. Id√™ntico aos cupons do Campo 2.</p>
        <div class="copy-group">
            <button class="copy-btn" onclick="copiarTexto('resultadoObjeto')" id="copiarObjetoBtn" style="display: none;">Copiar</button>
        </div>
        <pre id="resultadoObjeto"></pre>

        <h3><span style="color: var(--secondary-color);">‚ë°</span> CUPONS dos Cadastros</h3>
        <p>üè∑Ô∏è Formato de Lista Array (`const BLOCK_1 = [...]`). Id√™ntico aos cupons do Campo 1.</p>
        <div class="copy-group">
            <button class="copy-btn" onclick="copiarTexto('resultadoArray')" id="copiarArrayBtn" style="display: none;">Copiar</button>
        </div>
        <pre id="resultadoArray"></pre>
    </div>
    
    <script>
        /* --- JAVASCRIPT Integrado (L√≥gica Padr√£o de Prefixo + Sufixo Aleat√≥rio) --- */

        // Constante base para a estrutura interna de cada cupom
        const CUPOM_BASE = { 
            type: "frete", 
            value: "FRETE_VALOR_FIXO", 
            minPurchase: 6.00, 
            message: "üéâ Frete Gr√°tis aplicado! O valor de R$5,00 foi removido do total." 
        };

        const TOTAL_CUPONS = 31; // Quantidade de cupons em BLOCK_1
        const SUFIXO_LENGTH = 4; // Tamanho do sufixo aleat√≥rio (como solicitado anteriormente)

        /**
         * Gera uma string aleat√≥ria de letras e n√∫meros (sempre em MAI√öSCULAS).
         */
        function gerarSufixoAleatorio(length) {
            const caracteres = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let sufixo = '';
            for (let i = 0; i < length; i++) {
                sufixo += caracteres.charAt(Math.floor(Math.random() * caracteres.length));
            }
            return sufixo;
        }

        function gerarCupons() {
            // O valor digitado AGORA √© o PREFIXO FIXO
            const prefixoFixo = document.getElementById('prefixoInput').value.trim(); 
            
            const resultadoObjetoDiv = document.getElementById('resultadoObjeto');
            const resultadoArrayDiv = document.getElementById('resultadoArray');
            const copiarObjetoBtn = document.getElementById('copiarObjetoBtn');
            const copiarArrayBtn = document.getElementById('copiarArrayBtn');

            if (!prefixoFixo) {
                resultadoObjetoDiv.textContent = "‚ö†Ô∏è Por favor, digite o prefixo fixo.";
                resultadoArrayDiv.textContent = "";
                copiarObjetoBtn.style.display = 'none';
                copiarArrayBtn.style.display = 'none';
                return;
            }

            const todasAsChaves = [];
            
            // 1. Gera√ß√£o das Chaves √önicas (Prefixo Fixo + Sufixo Aleat√≥rio)
            for (let i = 0; i < TOTAL_CUPONS; i++) {
                
                const sufixoAleatorio = gerarSufixoAleatorio(SUFIXO_LENGTH);
                
                // Combina√ß√£o: PREFIXO FIXO + SUFIXO ALEAT√ìRIO
                const novaChave = prefixoFixo + sufixoAleatorio; 
                
                todasAsChaves.push(novaChave); 
            }

            // --- 2. Formato CUPONS da Loja (Objeto JSON completo) ---
            let cuponsGeradosObjeto = "{\n";
            const minPurchaseFormatado = CUPOM_BASE.minPurchase.toFixed(2);

            todasAsChaves.forEach((chave, index) => {
                // Formato Objeto
                // O √∫ltimo item n√£o recebe v√≠rgula para manter o formato JSON v√°lido
                cuponsGeradosObjeto += `\t"${chave}": { type: "${CUPOM_BASE.type}", value: ${CUPOM_BASE.value}, minPurchase: ${minPurchaseFormatado}, message: "${CUPOM_BASE.message}"\n\t}${index === TOTAL_CUPONS - 1 ? '' : ','}\n`;
            });
            cuponsGeradosObjeto += "}";


            // --- 3. Formato CUPONS dos Cadastros (Novo Formato Array de Blocos) ---
            // O BLOCK_1 recebe os cupons reais
            let cuponsGeradosArray = `const BLOCK_1 = [\n`;
            
            todasAsChaves.forEach((chave, index) => {
                cuponsGeradosArray += `\t"${chave}"${index === TOTAL_CUPONS - 1 ? '' : ','}\n`;
            });

            cuponsGeradosArray += "];\n";
            cuponsGeradosArray += "\n// ---------------------------------------------------------------------------------------\n";
            cuponsGeradosArray += "// ‚ö†Ô∏è BLOCOS 2 a 7: CUpons gerados para DEMONSTRA√á√ÉO (SUBSTITUA PELOS SEUS DADOS REAIS)\n";
            cuponsGeradosArray += "// ---------------------------------------------------------------------------------------\n";
            
            // Adicionando blocos de exemplo com 31 itens fict√≠cios para manter a estrutura
            for(let i = 2; i <= 7; i++) {
                cuponsGeradosArray += `const BLOCK_${i} = [\n`;
                for(let j = 0; j < TOTAL_CUPONS; j++) {
                     // Gera um cupom fict√≠cio para preenchimento
                    const chaveFicticia = gerarSufixoAleatorio(SUFIXO_LENGTH) + "FICT"; 
                    cuponsGeradosArray += `\t"${chaveFicticia}"${j === TOTAL_CUPONS - 1 ? '' : ','}\n`;
                }
                cuponsGeradosArray += `];\n`;
            }


            // 4. Exibe os resultados
            resultadoObjetoDiv.textContent = cuponsGeradosObjeto;
            resultadoArrayDiv.textContent = cuponsGeradosArray;

            // 5. Mostra os bot√µes de copiar
            copiarObjetoBtn.style.display = 'block';
            copiarArrayBtn.style.display = 'block';
        }

        function copiarTexto(elementId) {
            const texto = document.getElementById(elementId).textContent;
            
            if (!texto || texto.trim() === '') {
                 alert('‚ùå N√£o h√° texto para copiar. Gere os cupons primeiro.');
                 return;
            }

            navigator.clipboard.writeText(texto)
                .then(() => {
                    // Adiciona feedback visual de sucesso
                    const btn = document.querySelector(`[onclick="copiarTexto('${elementId}')"]`);
                    const originalText = btn.textContent;
                    btn.textContent = '‚úÖ Copiado!';
                    setTimeout(() => {
                        btn.textContent = originalText;
                    }, 2000);
                })
                .catch(err => {
                    console.error('Erro ao copiar texto: ', err);
                    alert('‚ùå Erro ao copiar o texto. Por favor, selecione e copie manualmente.');
                });
        }
        /* ---------------------- */
    </script>
</body>
</html>
